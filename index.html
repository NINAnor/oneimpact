<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Tools for the assessment of the cumulative impacts of anthropogenic features in ecological studies • oneimpact</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Tools for the assessment of the cumulative impacts of anthropogenic features in ecological studies">
<meta name="description" content="The package presents a set of tools to assess cumulative impacts of anthropogenic features and activity on biodiversity. This includes tools to calculate the zone of influence (ZOI) of anthropogenic variables as well as tools for model fitting, estimation of the effect size and ZOI, and ancillary functions. The functions dealing with spatial data processing can be run in both R and GRASS GIS, using R as an interface.">
<meta property="og:description" content="The package presents a set of tools to assess cumulative impacts of anthropogenic features and activity on biodiversity. This includes tools to calculate the zone of influence (ZOI) of anthropogenic variables as well as tools for model fitting, estimation of the effect size and ZOI, and ancillary functions. The functions dealing with spatial data processing can be run in both R and GRASS GIS, using R as an interface.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">oneimpact</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/oneimpact.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/oneimpact.html">Getting started</a></li>
    <li><a class="dropdown-item" href="articles/computing_zoi.html">Computing zones of influence</a></li>
    <li><a class="dropdown-item" href="articles/zoi_on_grass.html">Zones of influence on GRASS GIS</a></li>
    <li><a class="dropdown-item" href="articles/fitting_ZOI_logit.html">Estimating zones of influence using penalized regression</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NINAnor/oneimpact/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="oneimpact-">oneimpact <img src="reference/figures/oneimpact_hex_logo.png" align="right" alt="" width="150"><a class="anchor" aria-label="anchor" href="#oneimpact-"></a>
</h1></div>
<!-- badges: start -->

<p><code>oneimpact</code> provides tools for the assessment of cumulative impacts of multiple infrastructure and land use modifications in ecological studies. This includes tools to calculate the zone of influence (ZOI) of anthropogenic variables as well as tools for model fitting, estimation of the effect size and ZOI, and ancillary functions. The functions dealing with spatial data processing can be run in both R and GRASS GIS, using R as an interface. The tools available so far are:</p>
<div class="section level2">
<h2 id="compute-spatial-layers-representing-zones-of-influence">Compute spatial layers representing zones of influence<a class="anchor" aria-label="anchor" href="#compute-spatial-layers-representing-zones-of-influence"></a>
</h2>
<p>The first set of functions in <code>oneimpact</code> are aimed at computing the (potential) ZOI of infrastructure or other spatial covariates. This means we use spatial information on where they are located to compute the density of features in space (i.e. the cumulative ZOI) and/or the (decay) distance to the nearest feature (i.e. the ZOI of the nearest), given an expected ZOI radius (i.e. the distance up to which a given feature is expected to affect a certain species or process). These functions do not estimate the ZOI, though (which is context and process dependent); for that see more functions further down.</p>
<p>Here are the main functions in <code>oneimpact</code> to compute spatial layers representing zones of influence.</p>
<div class="section level3">
<h3 id="zone-of-influence-zoi-decay-functions">Zone of influence (ZOI) decay functions<a class="anchor" aria-label="anchor" href="#zone-of-influence-zoi-decay-functions"></a>
</h3>
<ul>
<li>zoi_functions: a set of decay zone of influence functions to characterize different shapes of the ZOI around infrastructure, parameterized based on the zone of influence radius. The functions implemented so far are: threshold (<code><a href="reference/zoi_functions.html">threshold_decay()</a></code> or <code><a href="reference/zoi_functions.html">step_decay()</a></code>), linear decay (<code><a href="reference/zoi_functions.html">linear_decay()</a></code> or <code><a href="reference/zoi_functions.html">bartlett_decay()</a></code> or <code><a href="reference/zoi_functions.html">tent_decay()</a></code>), exponential decay (<code><a href="reference/zoi_functions.html">exp_decay()</a></code>), or Gaussian decay (<code><a href="reference/zoi_functions.html">gaussian_decay()</a></code> or <code><a href="reference/zoi_functions.html">half_norm_decay()</a></code>).</li>
<li>
<code><a href="reference/plot_zoi1d.html">plot_zoi1d()</a></code>: plot ZOI in 1 dimensional space for multiple points infrastructure, using both the ZOI of the nearest feature and the cumulative ZOI metric.</li>
</ul>
</div>
<div class="section level3">
<h3 id="compute-zones-of-influence-zoi">Compute zones of influence (ZOI)<a class="anchor" aria-label="anchor" href="#compute-zones-of-influence-zoi"></a>
</h3>
<ul>
<li>
<code><a href="reference/calc_zoi_nearest.html">calc_zoi_nearest()</a></code>: Calculate the zone of influence from the nearest infrastructure, according to multiple possible decay functions and zones of influence radii.</li>
<li>
<code><a href="reference/calc_zoi_cumulative.html">calc_zoi_cumulative()</a></code>: Calculate the cumulative zone of influence of multiple features, according to multiple possible decay functions and zones of influence radii.</li>
<li>
<code><a href="reference/calc_zoi.html">calc_zoi()</a></code>: Calculate both the the ZOI of the nearest infrastructure and the cumulative ZOI, at multiple scales or zones of influence radii.</li>
</ul>
</div>
<div class="section level3">
<h3 id="spatial-filters">Spatial filters<a class="anchor" aria-label="anchor" href="#spatial-filters"></a>
</h3>
<ul>
<li>
<code>create_filter()</code>: Create filters or weight matrices for neighborhood analysis, according to different decay functions and parameterized using the zone of influence radius.</li>
<li>
<code>save_filter()</code>: Saves filters/weight matrices outside R for use within GRASS GIS modules.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="estimate-the-cumulative-impact-and-the-zoi-of-features-on-a-certain-species-or-process">Estimate the cumulative impact and the ZOI of features on a certain species or process<a class="anchor" aria-label="anchor" href="#estimate-the-cumulative-impact-and-the-zoi-of-features-on-a-certain-species-or-process"></a>
</h2>
<p>The <code>oneimpact</code> package also allows us to, given a set of potential candidate ZOIs (with possibly different types, shapes, and radii; computed with the functions above), estimate the actual effect and ZOI of the variables on a certain species or process. This is done combining three elements:</p>
<ul>
<li>Bootstrap aggregation (bagging), a multi-model bootstrap procedure that allows us to estimate the uncertainty in the effect sizes and ZOI radii;</li>
<li>Penalized regression, an approach that allows us to penalize estimated coefficients and possibly remove the least likely covariates from a model, i.e., it allows us to perform model fitting together with variable section;</li>
<li>Nested cross-validation, which allows is to consider hierarchical, spatial, or temporally cross-validation schemes in model and variable/feature selection.</li>
</ul>
<div class="section level3">
<h3 id="estimating-zoi---set-up-analysis">Estimating ZOI - set up analysis<a class="anchor" aria-label="anchor" href="#estimating-zoi---set-up-analysis"></a>
</h3>
<p>Functions to set up RSF and SSF analyses using ZOI variables:</p>
<ul>
<li>
<code><a href="reference/add_zoi_formula.html">add_zoi_formula()</a></code>: Adds ZOI radii to formula</li>
<li>
<code><a href="reference/spat_strat.html">spat_strat()</a></code>: Prepares data for spatially stratified cross‐validation schemes</li>
<li>
<code><a href="reference/explore_blocks_pre.html">explore_blocks_pre()</a></code> and <code><a href="reference/explore_blocks.html">explore_blocks()</a></code>: Explore hierarchical blocks before or after sampling or spatial stratification, respectively</li>
<li>
<code><a href="reference/create_resamples.html">create_resamples()</a></code>: Create samples for fitting, calibrating, and validating models in a bootstrap/baggin procedure.</li>
</ul>
</div>
<div class="section level3">
<h3 id="estimating-zoi---fit-models">Estimating ZOI - fit models<a class="anchor" aria-label="anchor" href="#estimating-zoi---fit-models"></a>
</h3>
<p>Functions to fit RSF and SSF and estimate ZOI using penalized regression</p>
<ul>
<li><p><code><a href="reference/bag_fit_net_functions.html">bag_fit_net_clogit()</a></code>: Fits a a bag of conditional logistic regressions/SSF/iSSF using glmnet. This function is a wrapper around <code><a href="reference/fit_net_functions.html">fit_net_clogit()</a></code> which is the one properly setting up the model fitting, tunning, and validation. It allows the use of different penalization algorithms, including Lasso, Ridge, Adaptive Lasso, and different adaptations from Adaptive Lasso. This function calls the function <code><a href="reference/net_logit.html">net_logit()</a></code> which is the one properly calling <code>glmnet</code> and fitting the model.</p></li>
<li><p><code><a href="reference/bag_fit_net_functions.html">bag_fit_net_logit()</a></code> (and <code><a href="reference/fit_net_functions.html">fit_net_logit()</a></code>, <code><a href="reference/net_logit.html">net_logit()</a></code>): equivalent to the one above, but performing common logistic regression, with no strata.</p></li>
<li><p><code><a href="reference/bag_load_models.html">bag_load_models()</a></code>: Load a vector of files with the output of <code><a href="reference/fit_net_functions.html">fit_net_clogit()</a></code> or <code><a href="reference/fit_net_functions.html">fit_net_logit()</a></code> and put them on a bag.</p></li>
<li><p><code><a href="reference/bag_models.html">bag_models()</a></code>: Bag a list of loaded/fitted models fitted through <code><a href="reference/fit_net_functions.html">fit_net_clogit()</a></code> or <code><a href="reference/fit_net_functions.html">fit_net_logit()</a></code>. This created an object of class <code>bag</code> with all information for understanding and making prediction from the bag of models.</p></li>
<li><p><code><a href="reference/concordance_indices.html">AUC()</a></code>, <code><a href="reference/concordance_indices.html">conditionalAUC()</a></code>, <code><a href="reference/concordance_indices.html">coxnet.deviance()</a></code>, <code><a href="reference/concordance_indices.html">Cindex()</a></code>, <code><a href="reference/concordance_indices.html">conditionalSomersD()</a></code>: functions used for model tunning (selecting penalties) and validation.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="estimating-zoi---interpret-and-visualize-models">Estimating ZOI - interpret and visualize models<a class="anchor" aria-label="anchor" href="#estimating-zoi---interpret-and-visualize-models"></a>
</h3>
<p>Functions to help interpreting parameters and visualizing cumulative impacts from bags of fitted models:</p>
<ul>
<li>
<code><a href="reference/predict.html">predict()</a></code>: Prediction of a bag of models to new data.</li>
<li>
<code><a href="reference/variable_importance.html">variable_importance()</a></code>, <code><a href="reference/plot_importance.html">plot_importance()</a></code>: Computes and plots variable importance from a bag of models.</li>
<li>
<code><a href="reference/plot_coef.html">plot_coef()</a></code>: Plots the coefficients of bags of models.</li>
<li>
<code><a href="reference/plot_response.html">plot_response()</a></code>: Plots (partial) response curves from a bag of models.</li>
<li>
<code><a href="reference/bag_predict_spat.html">bag_predict_spat()</a></code>: Predict bag of models in space.</li>
<li>
<code><a href="reference/bag_predict_spat.html">bag_predict_spat_vars()</a></code>: Predict reponses of each individual covariate in space according to a bag of models.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the development version of the <code>oneimpact</code> R package, please use:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"NINAnor/oneimpact"</span>, ref <span class="op">=</span> <span class="st">"HEAD"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="run-with-docker">Run with Docker<a class="anchor" aria-label="anchor" href="#run-with-docker"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--rm</span> <span class="at">-p</span> 8787:8787 <span class="at">-e</span> PASSWORD=rstudio <span class="at">-v</span> <span class="va">$PWD</span>/myproject:/home/rstudio/myproject ghcr.io/ninanor/oneimpact:main</span></code></pre></div>
<p>If you use Compose:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">docker</span> compose run rstudio</span></code></pre></div>
<p>You can customize <code>docker-compose.yml</code> based on your needs.</p>
</div>
<div class="section level2">
<h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<p>For model fitting and estimation of ZOI, see the pacakage <a href="https://glmnet.stanford.edu/index.html" class="external-link"><code>glmnet</code></a>, which is the backbone of the modeling approach used in <code>oneimpact</code>. For other similar approaches, check the <a href="https://cran.r-project.org/web/packages/maxnet/index.html" class="external-link"><code>maxnet()</code></a> for MaxEnt species distribution models using <code>glmnet</code>.</p>
<p>The <code>oneimpact</code> functions to compute the ZOI layers are greatly based on neighborhood analyses made through the <a href="https://rspatial.org/terra/pkg/index.html" class="external-link"><code>terra</code> package</a> in R and on three GRASS GIS modules: <a href="https://grass.osgeo.org/grass78/manuals/r.mfilter.html" class="external-link"><code>r.mfilter</code></a>, <a href="https://grass.osgeo.org/grass78/manuals/r.resamp.filter.html" class="external-link"><code>r.resamp.filter</code></a>, and <a href="https://grass.osgeo.org/grass78/manuals/r.neighbors.html" class="external-link"><code>r.neighbors</code></a>. The connection between R and GRASS GIS is made through the <a href="https://github.com/rsbivand/rgrass" class="external-link"><code>rgrass</code></a> R package.</p>
</div>
<div class="section level2">
<h2 id="meta">Meta<a class="anchor" aria-label="anchor" href="#meta"></a>
</h2>
<ul>
<li>Please <a href="https://github.com/NINAnor/oneimpact/issues/new/" class="external-link">report any issues or bugs</a>.</li>
<li>License: GPL3</li>
<li>Get citation information for <code>oneimpact</code> in R running <code>citation(package = 'oneimpact')</code>, or check the reference <a href="https://ninanor.github.io/oneimpact/authors.html#citation">here</a>.</li>
<li>Contributions are mostly welcome!</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/NINAnor/oneimpact/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/NINAnor/oneimpact/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing oneimpact</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Bernardo Brandão Niebuhr <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-0453-315X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Manuela Panzacchi <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-4645-9656" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Bram van Moorter <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-3196-1993" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://zenodo.org/badge/latestdoi/453101311" class="external-link"><img src="https://zenodo.org/badge/453101311.svg" alt="DOI"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bernardo Brandão Niebuhr, Manuela Panzacchi, Bram van Moorter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
