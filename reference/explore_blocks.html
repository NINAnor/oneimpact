<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Explore hierarchical blocks after sampling or spatial stratification — explore_blocks • oneimpact</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Explore hierarchical blocks after sampling or spatial stratification — explore_blocks"><meta name="description" content="Function to explore the number of cases and observations for the
sampling units used as the base H0 hierarchical level used for model validation,
such as population ID, study area, animal ID, or year, after spatial stratification.
It also allows exploring the the spatially stratified levels H1 and H0, to be used
for model fitting and tuning (train and test), respectively.
The function can help understand how imbalanced are data across H0, H1, and H2
levels used for validation, training/fitting, and tuning/testing, as well as how many
blocks exist there are for each type and their sizes."><meta property="og:description" content="Function to explore the number of cases and observations for the
sampling units used as the base H0 hierarchical level used for model validation,
such as population ID, study area, animal ID, or year, after spatial stratification.
It also allows exploring the the spatially stratified levels H1 and H0, to be used
for model fitting and tuning (train and test), respectively.
The function can help understand how imbalanced are data across H0, H1, and H2
levels used for validation, training/fitting, and tuning/testing, as well as how many
blocks exist there are for each type and their sizes."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">oneimpact</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/oneimpact.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/oneimpact.html">Getting started</a></li>
    <li><a class="dropdown-item" href="../articles/computing_zoi.html">Computing zones of influence</a></li>
    <li><a class="dropdown-item" href="../articles/zoi_on_grass.html">Zones of influence on GRASS GIS</a></li>
    <li><a class="dropdown-item" href="../articles/fitting_ZOI_logit.html">Estimating zones of influence using penalized regression</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NINAnor/oneimpact/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Explore hierarchical blocks after sampling or spatial stratification</h1>
      <small class="dont-index">Source: <a href="https://github.com/NINAnor/oneimpact/blob/main/R/explore_blocks.R" class="external-link"><code>R/explore_blocks.R</code></a></small>
      <div class="d-none name"><code>explore_blocks.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function to explore the number of cases and observations for the
sampling units used as the base H0 hierarchical level used for model validation,
such as population ID, study area, animal ID, or year, after spatial stratification.
It also allows exploring the the spatially stratified levels H1 and H0, to be used
for model fitting and tuning (train and test), respectively.
The function can help understand how imbalanced are data across H0, H1, and H2
levels used for validation, training/fitting, and tuning/testing, as well as how many
blocks exist there are for each type and their sizes.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">explore_blocks</span><span class="op">(</span><span class="va">blocks</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-blocks">blocks<a class="anchor" aria-label="anchor" href="#arg-blocks"></a></dt>
<dd><p><code>[data.frame]</code> <br> A <code>data.frame</code> returned by the function
<code><a href="spat_strat.html">spat_strat()</a></code>, which a list of blocks H0 used for validation and
blocks H1 and H2 spatially stratified.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with:</p><ul><li><p>blockH0_n: the number of levels/blocks in the hierarchical level H0, to be
used for validation;</p></li>
<li><p>blockH0_size_blocks: the number of (used) observations in each block of
the hierarchical level H0, to be used for validation;</p></li>
<li><p>blockH1_n: the number of different blocks (spatial strata) in the hierarchical
level H1, to be used for model fitting.</p></li>
<li><p>blockH1_size_blocks: the number of (used) observations in each block of
the hierarchical level H1, to be used for model fitting;</p></li>
<li><p>blockH2_n: the number of different blocks (spatial strata) in the hierarchical
level H2, to be used for model tuning.</p></li>
<li><p>blockH2_size_blocks: the number of (used) observations in each block of
the hierarchical level H2, to be used for model tuning.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># read data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"reindeer_ssf"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># spatial stratification</span></span></span>
<span class="r-in"><span><span class="va">spst</span> <span class="op">&lt;-</span> <span class="fu"><a href="spat_strat.html">spat_strat</a></span><span class="op">(</span><span class="va">reindeer</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span>, colH0 <span class="op">=</span> <span class="st">"original_animal_id"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="explore_blocks-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># explore blocks</span></span></span>
<span class="r-in"><span><span class="fu">explore_blocks</span><span class="op">(</span><span class="va">spst</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $blockH0_n</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $blockH0_size_blocks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3358 3361 3362 3364 3372 3378 6331 6333 6335 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5835 5807 2651 5844 2651 2643 2674 2464 2633 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $blockH1_n</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $blockH1_size_blocks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1    2    3    5    6    7    9   10   11   13   14   15   17   18   19   21 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   17 3519  905  608 5831  947  240 1480   62 1415 1428   47  107 3092  163    2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   22   23   24   25   26   27   28   30   31   32 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1955 1829   10   72 2269 3394  486  673 2595   56 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $blockH2_n</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $blockH2_size_blocks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3    4    5   10   11   12   13   14   18   19   20   21   22   26   27   28 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   28  196  163   17 1361 1934  683   59  328 2009 1739  810   12  280 1361  722 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   29   30   34   35   36   37   42   43   44   49   50   51   52   53   57   58 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  121    4   78  569  276   62  162  528  107   12  485  542  158   13  188  730 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   59   60   61   62   65   66   67   68   69   70   74   75   76   77   83   84 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  549  179   25    9   13   89  983  429   94   13    5  859  821   56  344  313 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   85   86   90   91   92   93   94   95   98   99  100  101  102  103  104  107 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  124   13    2  385  913 1400  292   10   72  190 1349 1128  334  350   14   48 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  108  109  110  111  112  115  116  117  118  119  124  125  126  127 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  682 1420  512   62   60   17  438 1585  743   21  218  127  140   35 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bernardo Brandão Niebuhr, Manuela Panzacchi, Bram van Moorter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

