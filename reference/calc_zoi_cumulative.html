<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function takes in a raster with locations or counts of
infrastructure
and calculates a raster (or set of rasters, in case there is more the one
value for radius) representing the cumulative zone of influence (ZoI)
or density of features in space. The process is done through a spatial
filter/moving window/neighborhood analysis. The zones of influence
(or weight matrices) are defined by functions that decay with the distance
from each infrastructure feature and their rate of decay is controlled by the
ZoI radius (radius), which defines how far the influence of an infrastructure
feature goes. By using moving window analyses, the cumulative ZoI account for
the sum of the influence of multiple features across space, weighted by
the distance to these features according the the ZoI shape.
For more details on the ZoI functions, see zoi_functions().
The procedure might be computed in both R and GRASS GIS. In R, the
neighborhood analysis is done with the terra::focal() function. In GRASS,
different modules might be used for the computation: r.resamp.filter,
r.mfilter, or r.neighbors. See details for their differences. In GRASS, it
requires an active connection between the R session and a GRASS GIS
location and mapset (through the package rgrass7), and that the input
maps are already loaded within this GRASS GIS mapset.
If the calculations are done in R, the input is a (set of) raster map(s)
and the function returns another (set of) raster map(s). If the calculations
are done within GRASS GIS, the input is the name of a raster map already
loaded in a GRASS GIS location and mapset, and the function returns
only the name of the output map. This map is stored in the the GRASS GIS
location/mapset, and might be retrieved to R through the
rgrass7::read_RAST() function or exported outside GRASS using the
r.out.gdal module, for instance."><title>Calculate the cumulative zone of influence of multiple features — calc_zoi_cumulative • oneimpact</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate the cumulative zone of influence of multiple features — calc_zoi_cumulative"><meta property="og:description" content="This function takes in a raster with locations or counts of
infrastructure
and calculates a raster (or set of rasters, in case there is more the one
value for radius) representing the cumulative zone of influence (ZoI)
or density of features in space. The process is done through a spatial
filter/moving window/neighborhood analysis. The zones of influence
(or weight matrices) are defined by functions that decay with the distance
from each infrastructure feature and their rate of decay is controlled by the
ZoI radius (radius), which defines how far the influence of an infrastructure
feature goes. By using moving window analyses, the cumulative ZoI account for
the sum of the influence of multiple features across space, weighted by
the distance to these features according the the ZoI shape.
For more details on the ZoI functions, see zoi_functions().
The procedure might be computed in both R and GRASS GIS. In R, the
neighborhood analysis is done with the terra::focal() function. In GRASS,
different modules might be used for the computation: r.resamp.filter,
r.mfilter, or r.neighbors. See details for their differences. In GRASS, it
requires an active connection between the R session and a GRASS GIS
location and mapset (through the package rgrass7), and that the input
maps are already loaded within this GRASS GIS mapset.
If the calculations are done in R, the input is a (set of) raster map(s)
and the function returns another (set of) raster map(s). If the calculations
are done within GRASS GIS, the input is the name of a raster map already
loaded in a GRASS GIS location and mapset, and the function returns
only the name of the output map. This map is stored in the the GRASS GIS
location/mapset, and might be retrieved to R through the
rgrass7::read_RAST() function or exported outside GRASS using the
r.out.gdal module, for instance."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">oneimpact</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/oneimpact.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/onimpact.html">Getting started</a>
    <a class="dropdown-item" href="../articles/computing_zoi.html">Computing zones of influence</a>
    <a class="dropdown-item" href="../articles/zoi_on_grass.html">Zones of influence on GRASS GIS</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/NINAnor/oneimpact/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Calculate the cumulative zone of influence of multiple features</h1>
      <small class="dont-index">Source: <a href="https://github.com/NINAnor/oneimpact/blob/HEAD/R/calc_zoi_cumulative.R" class="external-link"><code>R/calc_zoi_cumulative.R</code></a></small>
      <div class="d-none name"><code>calc_zoi_cumulative.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes in a raster with locations or counts of
infrastructure
and calculates a raster (or set of rasters, in case there is more the one
value for <code>radius</code>) representing the cumulative zone of influence (ZoI)
or density of features in space. The process is done through a spatial
filter/moving window/neighborhood analysis. The zones of influence
(or weight matrices) are defined by functions that decay with the distance
from each infrastructure feature and their rate of decay is controlled by the
ZoI radius (<code>radius</code>), which defines how far the influence of an infrastructure
feature goes. By using moving window analyses, the cumulative ZoI account for
the sum of the influence of multiple features across space, weighted by
the distance to these features according the the ZoI shape.
For more details on the ZoI functions, see <code><a href="zoi_functions.html">zoi_functions()</a></code>.</p>
<p>The procedure might be computed in both R and GRASS GIS. In R, the
neighborhood analysis is done with the <code><a href="https://rdrr.io/pkg/terra/man/focal.html" class="external-link">terra::focal()</a></code> function. In GRASS,
different modules might be used for the computation: <code>r.resamp.filter</code>,
<code>r.mfilter</code>, or <code>r.neighbors</code>. See details for their differences. In GRASS, it
requires an active connection between the R session and a GRASS GIS
location and mapset (through the package rgrass7), and that the input
maps are already loaded within this GRASS GIS mapset.
If the calculations are done in R, the input is a (set of) raster map(s)
and the function returns another (set of) raster map(s). If the calculations
are done within GRASS GIS, the input is the name of a raster map already
loaded in a GRASS GIS location and mapset, and the function returns
only the name of the output map. This map is stored in the the GRASS GIS
location/mapset, and might be retrieved to R through the
<code><a href="https://rsbivand.github.io/rgrass/reference/rgrass-deprecated.html" class="external-link">rgrass7::read_RAST()</a></code> function or exported outside GRASS using the
<code>r.out.gdal</code> module, for instance.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">calc_zoi_cumulative</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  radius <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"circle"</span>, <span class="st">"Gauss"</span>, <span class="st">"rectangle"</span>, <span class="st">"exp_decay"</span>, <span class="st">"bartlett"</span>, <span class="st">"threshold"</span>,</span>
<span>    <span class="st">"mfilter"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  where <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"R"</span>, <span class="st">"GRASS"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  output_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cumulative_zoi"</span>, <span class="st">"density"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  zoi_limit <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  min_intensity <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  max_dist <span class="op">=</span> <span class="fl">50000</span>,</span>
<span>  zeroAsNA <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  extent_x_cut <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  extent_y_cut <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  na.policy <span class="op">=</span> <span class="st">"omit"</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  g_module <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"r.mfilter"</span>, <span class="st">"r.resamp.filter"</span>, <span class="st">"r.neighbors"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  g_parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  g_output_map_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  g_input_as_region <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  g_remove_intermediate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  g_overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p><code>[RasterLayer,SpatRaster,character]</code> <br> Raster representing
locations of features, preferentially with positive values where the features
are located (or counts of features within a pixel) and 0 elsewhere.
Alternatively, <code>x</code> might be a binary (dummy) spatial variable representing
the presence of linear or area features, with zero as background.
<code>x</code> can be a <code>RasterLayer</code> from raster package or a <a href="https://rdrr.io/pkg/terra/man/SpatRaster-class.html" class="external-link">SpatRaster</a> from
<a href="https://rdrr.io/pkg/terra/man/terra-package.html" class="external-link">terra</a> package. If <code>where = "GRASS"</code>, <code>x</code> must be a string corresponding
to the name of the input map within a GRASS GIS location and mapset.
Continuous or discrete raster maps with multiple categories can be binarized
to be used as input for <code>calc_zoi_cumulative()</code> through
<code><a href="https://ropensci.github.io/landscapetools/reference/util_binarize.html" class="external-link">landscapetools::util_binarize()</a></code> in R or <code><a href="grass_binarize.html">grass_binarize()</a></code>
in GRASS GIS, or through common raster algebra in both
environments.</p>
<p>Notice that, different from <code><a href="calc_zoi_nearest.html">calc_zoi_nearest()</a></code>, the input maps <code>x</code>
must have zero as background values, instead of NA. In R it is possible to
account for NA background values by setting <code>zeroAsNA = TRUE</code> for the computation
of the cumulative ZoI.
In GRASS, maps without NA as background might be changed into maps with 0 as
background to be used in  <code>calc_zoi_cumulative()</code>
through <a href="https://grass.osgeo.org/grass78/manuals/r.mapcalc.html" class="external-link">raster algebra</a>
and e.g. through the use of the module
<a href="https://grass.osgeo.org/grass80/manuals/r.null.html" class="external-link"><code>r.null</code></a>.</p></dd>


<dt>radius</dt>
<dd><p><code>[numeric(1)=100]</code> <br> Radius or scale of the moving
window for neighborhood analysis, used to calculate the cumulative zoi and
density. The radius represent
the distance at which the ZoI vanishes or goes below a given minimum limit value
<code>zoi_limit</code>. It can be a single value or a vector of values, in which case
several cumulative ZoI or density maps (one for each radius) are created.
For <code>type = "circle"</code>, the <code>radius</code> corresponds to the radius of the
circle filter. For <code>type = "Gauss"</code> and <code>type = "exp_decay"</code>, <code>radius</code>
corresponds to the distance where the Gaussian or exponential decay function
decrease or a small <code>zoi_limit</code> value. If <code>type = "bartlett"</code>, <code>radius</code>
is the distance at which the filter reaches zero, after a linear decay
from the central pixel. If <code>type = "rectangle"</code>, <code>radius</code>
corresponds to half the size of the side of a square filter.
If <code>type = "mfilter"</code>, radius is not a numeric value but a matrix itself,
defined by the user. See description in the details and <code><a href="zoi_functions.html">zoi_functions()</a></code>
for more details on the zone of influence function shapes and parameters.</p></dd>


<dt>type</dt>
<dd><p><code>[character(1)="circle"]{"circle", "Gauss", "rectangle", "exp_decay", "bartlett", "threshold", "step", "mfilter"}</code> <br>
Type of filter (shape of the zone of influence) used to calculate the
cumulative ZoI or density. See details.</p></dd>


<dt>where</dt>
<dd><p><code>[character(1)="R"]{"R", "GRASS"}</code> <br> Where should the
computation be done? Default is <code>"R"</code>. If <code>where = "GRASS"</code>, the R session
must be linked to an open GRASS GIS session in a specific location and mapset.</p></dd>


<dt>output_type</dt>
<dd><p><code>[character(1)="cumulative_zoi"]{"cumulative_zoi", "density"}</code> <br> If <code>output_type = "cumulative_zoi"</code> (default), the ZoI weight
matrix not not normalized, i.e. the maximum value of the weight matrix at the
central pixel value is always 1. This means the values of the input map are
summed (considering a decay with distance within the neighborhood) and the
output map presents values higher than 1. If <code>output_type = "density"</code>, the
weight matrix is normalized before the filtering process, leading to values
in the outmap map generally lower than 1.</p></dd>


<dt>zoi_limit</dt>
<dd><p><code>[numeric(1)=0.05]</code> <br> For non-vanishing functions
(e.g. <code>exp_decay</code>, <code>gaussian_decay</code>), this value is used to set the relationship
between the ZoI radius and the decay functions:
<code>radius</code> is defined as the minimum distance at which the ZoI assumes values
below <code>zoi_limit</code>. The default is 0.05. This parameter is used only
if <code>radius</code> is not <code>NULL</code>.</p></dd>


<dt>min_intensity</dt>
<dd><p><code>[numeric(1)=0.01]</code> <br> Minimum intensity of the
exponential and Gaussian decay functions to
define the radius of the window that define the filter. See
<code><a href="filter_create.html">filter_create()</a></code> for details.</p></dd>


<dt>max_dist</dt>
<dd><p><code>[numeric(1)=50000]</code> <br> Maximum size (in meters) to
define the radius of the window that defines the filter. Only
applicable for exponential and Gaussian decay functions. See
<code><a href="filter_create.html">filter_create()</a></code> for details.</p></dd>


<dt>zeroAsNA</dt>
<dd><p><code>[logical(1)=FALSE]</code> <br> If <code>TRUE</code> treats cells that are
<code>NA</code> as if they were zero.</p></dd>


<dt>extent_x_cut, entent_y_cut</dt>
<dd><p><code>[numeric vector(2)=c(0,1)]</code> <br> Vector
representing the minimum and
maximum extent in x and y for the final output, in the format c(min,max).
It is intended to keep only a region of interest but consider the
surroundings when calculating the cumulative ZoI or density. This might be
especially useful for example in the use of the <code>r.mfilter</code> algorithm in
GRASS, in which the edges of the region are excluded from the computation.
The default is to keep the same extent of the input raster.</p></dd>


<dt>na.policy</dt>
<dd><p><code>[character(1)="omit"] \cr Can be used to determine the cells of </code>x<code>for which focal values should be computed. Must be one of "all" (compute for all cells), "only" (only for cells that are NA) or "omit" (skip cells that are NA). Note that the value of this argument does not affect which cells around each focal cell are included in the computations (use na.rm=TRUE to ignore cells that are NA for that). See [terra::focal()] for details. Only used when</code>where = "R"`.</p></dd>


<dt>na.rm</dt>
<dd><p><code>[logical(1)=FALSE]</code> <br> Should missing values be removed for
filtering calculations? Option for the neighborhood analysis performed
through the <code><a href="https://rdrr.io/pkg/terra/man/focal.html" class="external-link">terra::focal()</a></code> function. Only used when <code>where = "R"</code>.</p></dd>


<dt>g_module</dt>
<dd><p><code>[character(1)="r.mfilter"]{"r.mfilter", "r.resamp.filter", "r.neighbors"}</code> <br>
If <code>where = "GRASS"</code>, which algorithm should be used to compute the cumulative
ZoI? See details for their description.</p></dd>


<dt>g_parallel</dt>
<dd><p><code>[logical(1)=TRUE]</code> <br> If the <code>r.mfilter</code> tool is used for
computing the cumulative ZoI in GRASS GIS, <code>g_parallel</code> tells if parallelization
should be used. Default is <code>TRUE</code>. The option is ignored for other GRASS tools
(parameter <code>g_module</code>) and for computation in R (<code>where = "R"</code>).</p></dd>


<dt>g_output_map_name</dt>
<dd><p><code>[character(1)=NULL]</code> <br> Name of the output map. Only
used when <code>where = "GRASS"</code>. If <code>NULL</code> (default), a standard name is created
based on the name of the input map <code>x</code>, the ZoI shape <code>type</code>, and the ZoI
radius <code>radius</code>.</p></dd>


<dt>g_input_as_region</dt>
<dd><p><code>[logical(1)=TRUE]</code> <br> Should the input map <code>x</code> be
used to redefine the working GRASS region before cumulative ZoI calculation?
If <code>TRUE</code>, <code>x</code> is used to define the region with <code>g.region</code>. If <code>FALSE</code>,
the region previously defined in the GRASS GIS session is used for computation.</p></dd>


<dt>g_remove_intermediate</dt>
<dd><p><code>[logical(1)=TRUE]</code> <br> Should the intermediate
maps created for computing the output map be excluded in the end of the
process? Only used when <code>where = "GRASS"</code>.</p></dd>


<dt>g_overwrite</dt>
<dd><p><code>[logical(1)=FALSE]</code> <br> If the a map already exists with the
name <code>g_output_map_name</code> in the working GRASS GIS location and mapset, should
it be overwritten? Only used when <code>where = "GRASS"</code>.</p></dd>


<dt>verbose</dt>
<dd><p><code>[logical(1)=FALSE]</code> <br> Should messages of the computation steps
be printed in the prompt along the computation?</p></dd>


<dt>...</dt>
<dd><p>Other arguments to be used within <code><a href="filter_create.html">filter_create()</a></code>
or <code><a href="https://rdrr.io/pkg/terra/man/focal.html" class="external-link">terra::focal()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>If the calculations are performed in R (<code>where = "R"</code>),
a <code>RasterLayer</code> or <a href="https://rdrr.io/pkg/terra/man/SpatRaster-class.html" class="external-link">SpatRaster</a> (according to the input <code>x</code> map)
with the cumulative zone of influence or density of features. While the
cumulative ZoI uses a ZoI/weight matrix rescaled to 1 at the central pixel
(creating values in the output map which might go well beyond 1), the
density of features uses a normalized ZoI/weight matrix (with all values
summing 1), what created values smaller than one in the output map.
if multiple <code>radius</code> values are given, a <code>RasterBrick</code> or multi-layer
<code>SpatRaster</code>, with the cumulative ZoI or density maps for each ZoI radius. <br></p>


<p>If the computation is done in GRASS GIS, the output is the name of
the output raster map(s) within the GRASS GIS location and mapset of the
current session. The user can retrieve these maps to R using
<code><a href="https://rsbivand.github.io/rgrass/reference/rgrass-deprecated.html" class="external-link">rgrass7::read_RAST()</a></code> or export them outside GRASS using the
<code>r.out.gdal</code> module, for instance.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The input raster is supposed to
represent the location of point, line, or polygon infrastructure
(e.g. houses, roads, mining areas), but any landscape variable whose
representation might be one of those would fit here
(e.g. areas of forest or any other habitat type or land cover).
We recommend that the input raster has a metric projection, so that distances
and zones of influence are based on distance to infrastructure measured in meters.</p><div class="section">
<h3 id="zone-of-influence-functions-and-weight-matrices">Zone of Influence functions and weight matrices<a class="anchor" aria-label="anchor" href="#zone-of-influence-functions-and-weight-matrices"></a></h3>


<p>The neighborhood analysis to define the cumulative ZoI can be
computed with different functions/filters. The options currently implemented
are:</p><ul><li><p>circular/threshold matrix: the circular filter (<code>type = "circle"</code> or
<code>type = "threshold"</code> or <code>type = "step"</code>) is a matrix with constant weights
in which the parameter <code>radius</code> corresponds to the radius of the circle
centered on the central pixel. It is similar to a circular buffer matrix.</p></li>
<li><p>Gaussian matrix: the Gaussian filter (<code>type = "Gauss"</code> or <code>type = "gauss"</code>
or <code>type = "gaussian_decay"</code>) is a matrix with weights following a Gaussian
or Normal decay. The Gaussian curve is 1 at the central cell and
is parameterized on the <code>radius</code> and
the <code>zoi_limit</code>, which controls how fast the curve decreases with distance.
See <code><a href="zoi_functions.html">zoi_functions()</a></code> for details.</p></li>
<li><p>Exponential decay matrix: the exponential decay filter
(<code>type = "exp_decay"</code>) is a matrix with weights following an exponential
decay curve, with value 1 in the central cell and
parameterized on the <code>radius</code> and the <code>zoi_limit</code>.
See <code><a href="zoi_functions.html">zoi_functions()</a></code> for details.</p></li>
<li><p>Rectangular matrix: the rectangular filter (<code>type = "rectangle"</code>
or <code>type = "box"</code>) is
a weight matrix whose shape is a square of dimensions \(n\) x \(n\),
with \(n = 2 * radius\).</p></li>
<li><p>Bartlett or linear decay matrix: the Bartlett, linear, or tent decay filter
(<code>type = "bartlett"</code> or <code>type = "linear_decay"</code> or <code>type = "tent_decay"</code>)
is a weight matrix whose value is 1 in the central cell and whose weights
decrease linearly up to zero at a distance equals <code>radius</code>.
See <code><a href="zoi_functions.html">zoi_functions()</a></code> for details.</p></li>
<li><p>user-customized filter: if <code>type = "mfilter"</code>, <code>radius</code> is not
numeric but should be a user-defined matrix of weights. Examples are ones
created through <code><a href="filter_create.html">filter_create()</a></code>, <code><a href="https://rdrr.io/pkg/terra/man/focalMat.html" class="external-link">terra::focalMat()</a></code>,
<code><a href="https://rdrr.io/pkg/smoothie/man/kernel2dmeitsjer.html" class="external-link">smoothie::kernel2dmeitsjer()</a></code>, or matrices created by hand.</p></li>
</ul><p>Weight matrices might differ from the expected decay function depending on
the intended resolution - the finer the resolution, the more detailed and
correspondent to the original functions the matrix will be.</p>
</div>

<div class="section">
<h3 id="algorithms-in-grass-gis">Algorithms in GRASS GIS<a class="anchor" aria-label="anchor" href="#algorithms-in-grass-gis"></a></h3>


<p>In GRASS GIS, different modules might be used for the computation,
<code>r.resamp.filter</code>, <code>r.mfilter</code>, or <code>r.neighbors</code>. The module to be used is
controlled by the parameter <code>g_module</code>. These algorithms provide different
capabilities and flexibility.</p><ul><li><p><code>r.resamp.filter</code> seems to be the fastest one
in most cases, but has less flexibility in the choice of the zone of influence
function. The algorithm calculates the weighted density of features, which
might be rescaled to the cumulative ZoI if the appropriate scaling factor
(calculated from the weight matrix) is provided. Currently only the
filters <code>type = "bartlett"</code> and <code>type = "box"</code> are implemented. More
information about the algorithm
<a href="https://grass.osgeo.org/grass80/manuals/r.resamp.filter.html" class="external-link">here</a>.</p></li>
<li><p><code>r.mfilter</code> is slower than <code>r.resamp.filter</code> but much faster than
<code>r.neighbors</code>, and allows a flexible choice of the shape of the zone of
influence (the wight matrix shape). <code>r.mfilter</code> is then the most indicated
in terms of a balance between flexibility in the choice of the ZoI shape
and computation efficiency.
The only inconvenient of <code>r.mfilter</code> is that it
creates an edge effect with no information in the outer cells of a raster
(the number of cells correspond to <code>radius</code> or half the size of the weight
matrix), so if it is used the users should add a buffer area
\(ge radius\) around the input raster map, to avoid such edge effects.
See <a href="https://github.com/OSGeo/grass/issues/2184" class="external-link">https://github.com/OSGeo/grass/issues/2184</a> for more details.</p></li>
<li><p><code>r.neighbors</code> is considerably slower than the other algorithms (from 10 to
100 times), but allows a flexible choice of the ZoI shape. Contrary to
<code>r.resamp.filter</code> and <code>r.mfilter</code>, which can only perform a sum of pixel
values weighted by the input filter or ZoI, <code>r.neighbors</code> might
calculate many other statistical summaries within the window of analysis,
such as mean, median, standard deviation etc.</p></li>
</ul></div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See <code><a href="zoi_functions.html">zoi_functions()</a></code> for some ZoI function shapes and
<code><a href="filter_create.html">filter_create()</a></code> for options to create weight matrices. <br>
See also <code><a href="https://rdrr.io/pkg/smoothie/man/kernel2dmeitsjer.html" class="external-link">smoothie::kernel2dmeitsjer()</a></code>, <code><a href="https://rdrr.io/pkg/terra/man/focalMat.html" class="external-link">terra::focalMat()</a></code>, and
<code><a href="https://rdrr.io/pkg/raster/man/focalWeight.html" class="external-link">raster::focalWeight()</a></code> for other functions to create filters or weight matrices. <br>
See
<a href="https://grass.osgeo.org/grass80/manuals/r.mfilter.html" class="external-link">r.mfilter</a>,
<a href="https://grass.osgeo.org/grass80/manuals/r.resamp.filter.html" class="external-link">r.resamp.filter</a>, and
<a href="https://grass.osgeo.org/grass80/manuals/r.neighbors.html" class="external-link">r.neighbors</a> for
GRASS GIS implementations of neighborhood analysis.<br>
See <code><a href="calc_zoi_nearest.html">calc_zoi_nearest()</a></code> for the computation of the zone of influence
of the nearest feature only.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Running calc_zoi_cumulative through R</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/terra/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load raster data</span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"raster/sample_area_cabins_count.tif"</span>, package <span class="op">=</span> <span class="st">"oneimpact"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cabins</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate cumulative zone of influence for multiple influence radii,</span></span></span>
<span class="r-in"><span><span class="co"># using a Gaussian filter</span></span></span>
<span class="r-in"><span><span class="va">zoi_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">500</span>, <span class="fl">1000</span>, <span class="fl">2500</span>, <span class="fl">5000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cumzoi_gauss</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span><span class="va">cabins</span>, type <span class="op">=</span> <span class="st">"Gauss"</span>, radius <span class="op">=</span> <span class="va">zoi_values</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cumzoi_gauss</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="calc_zoi_cumulative-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate cumulative zone of influence for multiple influence radii,</span></span></span>
<span class="r-in"><span><span class="co"># using a circle neighborhood</span></span></span>
<span class="r-in"><span><span class="va">cumzoi_circle</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span><span class="va">cabins</span>, type <span class="op">=</span> <span class="st">"circle"</span>, radius <span class="op">=</span> <span class="va">zoi_values</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cumzoi_circle</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="calc_zoi_cumulative-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate cumulative zone of influence for multiple influence radii,</span></span></span>
<span class="r-in"><span><span class="co"># using an exponential decay neighborhood</span></span></span>
<span class="r-in"><span><span class="va">cumzoi_exp</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span><span class="va">cabins</span>, type <span class="op">=</span> <span class="st">"exp_decay"</span>, radius <span class="op">=</span> <span class="va">zoi_values</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cumzoi_exp</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="calc_zoi_cumulative-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># comparing</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">cumzoi_gauss</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span>, <span class="va">cumzoi_circle</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span>, <span class="va">cumzoi_exp</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Gaussian 1000m"</span>,</span></span>
<span class="r-in"><span>              <span class="st">"Circle 1000m"</span>,</span></span>
<span class="r-in"><span>              <span class="st">"Exponential decay 1000m"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="calc_zoi_cumulative-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate cumulative influence for a single zone of influence</span></span></span>
<span class="r-in"><span><span class="co"># using a user-defined filter</span></span></span>
<span class="r-in"><span><span class="va">my_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="filter_create.html">filter_create</a></span><span class="op">(</span><span class="va">cabins</span>, radius <span class="op">=</span> <span class="fl">1000</span>, type <span class="op">=</span> <span class="st">"rectangle"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cumzoi_user</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span><span class="va">cabins</span>, type <span class="op">=</span> <span class="st">"mfilter"</span>, radius <span class="op">=</span> <span class="va">my_filter</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cumzoi_user</span>, main <span class="op">=</span> <span class="st">"User-defined rectangular filter"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="calc_zoi_cumulative-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate density with 1000m radius using an exp_decay neighborhood</span></span></span>
<span class="r-in"><span><span class="va">density_exp</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span><span class="va">cabins</span>, type <span class="op">=</span> <span class="st">"exp_decay"</span>, radius <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>                                   output_type <span class="op">=</span> <span class="st">"density"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># compare</span></span></span>
<span class="r-in"><span><span class="co"># note the difference in the color scales</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">cumzoi_exp</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span>, <span class="va">density_exp</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Cumulative ZoI 1000m"</span>, <span class="st">"Density 1000m"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="calc_zoi_cumulative-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#--------------------</span></span></span>
<span class="r-in"><span><span class="co"># Running calc_zoi_cumulative through GRASS GIS</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://grass.osgeo.org/" class="external-link">rgrass7</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: XML</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Package deprecated; switch to package rgrass. This package will</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> be retired before rgdal is retired during 2023</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> GRASS GIS interface loaded with GRASS version: (GRASS not running)</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/terra/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load raster data</span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"raster/sample_area_cabins.tif"</span>, package <span class="op">=</span> <span class="st">"oneimpact"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cabins</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># connect to grass gis 7.8 and create grass location</span></span></span>
<span class="r-in"><span><span class="co"># For linux or within OSGeo4W shell</span></span></span>
<span class="r-in"><span><span class="va">grassdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="st">"grass78 --config path"</span>, intern <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># If you used the standalone installer in Windows</span></span></span>
<span class="r-in"><span><span class="co"># grassdir &lt;- "C:\Programs\GRASS GIS 7.8" # Correct if the path is different</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">gisDB</span> <span class="op">&lt;-</span> <span class="st">"."</span> <span class="co"># create location and mapset in the working directory</span></span></span>
<span class="r-in"><span><span class="va">loc</span> <span class="op">&lt;-</span> <span class="st">"ETRS_33N/"</span> <span class="co"># name of the location</span></span></span>
<span class="r-in"><span><span class="va">ms</span> <span class="op">&lt;-</span> <span class="st">"PERMANENT"</span> <span class="co"># name of the mapset</span></span></span>
<span class="r-in"><span><span class="fu">rgrass7</span><span class="fu">::</span><span class="fu"><a href="https://rsbivand.github.io/rgrass/reference/rgrass-deprecated.html" class="external-link">initGRASS</a></span><span class="op">(</span>gisBase <span class="op">=</span> <span class="va">grassdir</span>,</span></span>
<span class="r-in"><span>                   SG <span class="op">=</span> <span class="va">cabins</span>, <span class="co"># use map to define location projection</span></span></span>
<span class="r-in"><span>                   home <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   override <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                   gisDbase <span class="op">=</span> <span class="va">gisDB</span>,</span></span>
<span class="r-in"><span>                   location <span class="op">=</span> <span class="va">loc</span>,</span></span>
<span class="r-in"><span>                   mapset <span class="op">=</span> <span class="va">ms</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gisdbase    . </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> location    ETRS_33N/ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mapset      PERMANENT </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rows        361 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> columns     478 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> north       6658900 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> south       6622800 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> west        146900 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> east        194700 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nsres       100 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ewres       100 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> projection  +proj=utm +no_defs +zone=33 +a=6378137 +rf=298.257222101</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +towgs84=0,0,0,0,0,0,0 +type=crs +to_meter=1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># define map name within GRASS GIS</span></span></span>
<span class="r-in"><span><span class="va">cabins_g</span> <span class="op">&lt;-</span> <span class="st">"cabins_example"</span></span></span>
<span class="r-in"><span><span class="co"># add file to GRASS GIS mapset</span></span></span>
<span class="r-in"><span><span class="fu">rgrass7</span><span class="fu">::</span><span class="fu"><a href="https://rsbivand.github.io/rgrass/reference/rgrass-deprecated.html" class="external-link">write_RAST</a></span><span class="op">(</span><span class="va">cabins</span>, <span class="va">cabins_g</span>, flags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"o"</span>, <span class="st">"overwrite"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Over-riding projection check</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Importing raster map &lt;cabins_example&gt;...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0%   3%   6%   9%  12%  15%  18%  21%  24%  27%  30%  33%  36%  39%  42%  45%  48%  51%  54%  57%  60%  63%  66%  69%  72%  75%  78%  81%  84%  87%  90%  93%  96%  99% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SpatRaster read into GRASS using r.in.gdal from file </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check</span></span></span>
<span class="r-in"><span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cabins</span>, col <span class="op">=</span> <span class="st">"black"</span>,</span></span>
<span class="r-in"><span>            main <span class="op">=</span> <span class="st">"Map of tourist cabins"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="calc_zoi_cumulative-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#---</span></span></span>
<span class="r-in"><span><span class="co"># define region in GRASS GIS</span></span></span>
<span class="r-in"><span><span class="fu">rgrass7</span><span class="fu">::</span><span class="fu"><a href="https://rsbivand.github.io/rgrass/reference/rgrass-deprecated.html" class="external-link">execGRASS</a></span><span class="op">(</span><span class="st">"g.region"</span>, raster <span class="op">=</span> <span class="va">cabins_g</span>,</span></span>
<span class="r-in"><span>                   flags <span class="op">=</span> <span class="st">"p"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> projection: 99 (unknown)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> zone:       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> datum:      etrs89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ellipsoid:  grs80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> north:      6658900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> south:      6622800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> west:       146900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> east:       194700</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nsres:      100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ewres:      100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rows:       361</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cols:       478</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cells:      172558</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#---</span></span></span>
<span class="r-in"><span><span class="co"># Guarantee input map is binary (zeros as background)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Input map name within GRASS GIS - binary map</span></span></span>
<span class="r-in"><span><span class="va">cabins_bin_g</span> <span class="op">&lt;-</span> <span class="fu"><a href="grass_binarize.html">grass_binarize</a></span><span class="op">(</span><span class="va">cabins_g</span>, breaks <span class="op">=</span> <span class="fl">1</span>, output <span class="op">=</span> <span class="st">"cabins_example_bin"</span>,</span></span>
<span class="r-in"><span>                               null <span class="op">=</span> <span class="fl">0</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Removing raster &lt;inter_map&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check input</span></span></span>
<span class="r-in"><span><span class="va">cabins_bin</span> <span class="op">&lt;-</span> <span class="fu">rgrass7</span><span class="fu">::</span><span class="fu"><a href="https://rsbivand.github.io/rgrass/reference/rgrass-deprecated.html" class="external-link">read_RAST</a></span><span class="op">(</span><span class="st">"cabins_example_bin"</span>, return_format <span class="op">=</span> <span class="st">"terra"</span>, NODATA <span class="op">=</span> <span class="fl">255</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Checking GDAL data type and nodata value...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using GDAL data type &lt;Byte&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Exporting raster data to RRASTER format...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r.out.gdal complete. File &lt;/tmp/RtmppFoToJ/file552a42c0ccda.grd&gt; created.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cabins_bin</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lightyellow"</span>, <span class="st">"black"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     main <span class="op">=</span> <span class="st">"Binarized map of cabins"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="calc_zoi_cumulative-8.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#---</span></span></span>
<span class="r-in"><span><span class="co"># Using 'r.mfilter' algorithm (default)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Exponential decay</span></span></span>
<span class="r-in"><span><span class="va">exp_name</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span>x <span class="op">=</span> <span class="va">cabins_bin_g</span>,</span></span>
<span class="r-in"><span>                                radius <span class="op">=</span> <span class="fl">1000</span>, zoi_limit <span class="op">=</span> <span class="fl">0.01</span>,</span></span>
<span class="r-in"><span>                                type <span class="op">=</span> <span class="st">"exp_decay"</span>,</span></span>
<span class="r-in"><span>                                where <span class="op">=</span> <span class="st">"GRASS"</span>,</span></span>
<span class="r-in"><span>                                g_overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating cumulative ZoI for 1000, shape exp_decay..."</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0%   3%   6%   9%  12%  15%  18%  21%  24%  27%  30%  33%  36%  39%  42%  45%  48%  51%  54%  57%  60%  63%  66%  69%  72%  75%  78%  81%  84%  87%  90%  93%  96%  99% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Writing raster map &lt;cabins_example_bin_zoi_cumulative_exp_decay1000&gt;</span>
<span class="r-in"><span><span class="co"># Bartlett decay</span></span></span>
<span class="r-in"><span><span class="va">barlett_name</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span>x <span class="op">=</span> <span class="va">cabins_bin_g</span>,</span></span>
<span class="r-in"><span>                                    radius <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>                                    type <span class="op">=</span> <span class="st">"bartlett"</span>,</span></span>
<span class="r-in"><span>                                    where <span class="op">=</span> <span class="st">"GRASS"</span>,</span></span>
<span class="r-in"><span>                                    g_overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                    verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating cumulative ZoI for 1000, shape bartlett..."</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0%   3%   6%   9%  12%  15%  18%  21%  24%  27%  30%  33%  36%  39%  42%  45%  48%  51%  54%  57%  60%  63%  66%  69%  72%  75%  78%  81%  84%  87%  90%  93%  96%  99% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Writing raster map &lt;cabins_example_bin_zoi_cumulative_bartlett1000&gt;</span>
<span class="r-in"><span><span class="co"># Gaussian decay</span></span></span>
<span class="r-in"><span><span class="va">gauss_name</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span>x <span class="op">=</span> <span class="va">cabins_bin_g</span>,</span></span>
<span class="r-in"><span>                                  radius <span class="op">=</span> <span class="fl">1000</span>, zoi_limit <span class="op">=</span> <span class="fl">0.01</span>,</span></span>
<span class="r-in"><span>                                  type <span class="op">=</span> <span class="st">"Gauss"</span>,</span></span>
<span class="r-in"><span>                                  where <span class="op">=</span> <span class="st">"GRASS"</span>,</span></span>
<span class="r-in"><span>                                  g_overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                  verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating cumulative ZoI for 1000, shape Gauss..."</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0%   3%   6%   9%  12%  15%  18%  21%  24%  27%  30%  33%  36%  39%  42%  45%  48%  51%  54%  57%  60%  63%  66%  69%  72%  75%  78%  81%  84%  87%  90%  93%  96%  99% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Writing raster map &lt;cabins_example_bin_zoi_cumulative_Gauss1000&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Threshold decay (circle, step)</span></span></span>
<span class="r-in"><span><span class="va">threshold_name</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span>x <span class="op">=</span> <span class="va">cabins_bin_g</span>,</span></span>
<span class="r-in"><span>                                      radius <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>                                      type <span class="op">=</span> <span class="st">"threshold"</span>,</span></span>
<span class="r-in"><span>                                      where <span class="op">=</span> <span class="st">"GRASS"</span>,</span></span>
<span class="r-in"><span>                                      g_overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                      verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating cumulative ZoI for 1000, shape threshold..."</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0%   3%   6%   9%  12%  15%  18%  21%  24%  27%  30%  33%  36%  39%  42%  45%  48%  51%  54%  57%  60%  63%  66%  69%  72%  75%  78%  81%  84%  87%  90%  93%  96%  99% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Writing raster map &lt;cabins_example_bin_zoi_cumulative_threshold1000&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">all_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">exp_name</span>, <span class="va">barlett_name</span>, <span class="va">gauss_name</span>, <span class="va">threshold_name</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "cabins_example_bin_zoi_cumulative_exp_decay1000"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "cabins_example_bin_zoi_cumulative_bartlett1000" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "cabins_example_bin_zoi_cumulative_Gauss1000"    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "cabins_example_bin_zoi_cumulative_threshold1000"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># visualize</span></span></span>
<span class="r-in"><span><span class="va">cabins_zoi_cumulative</span> <span class="op">&lt;-</span> <span class="fu">rgrass7</span><span class="fu">::</span><span class="fu"><a href="https://rsbivand.github.io/rgrass/reference/rgrass-deprecated.html" class="external-link">read_RAST</a></span><span class="op">(</span><span class="va">all_names</span>, return_format <span class="op">=</span> <span class="st">"terra"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Checking GDAL data type and nodata value...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using GDAL data type &lt;Float32&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Exporting raster data to RRASTER format...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r.out.gdal complete. File &lt;/tmp/RtmppFoToJ/file552a6e2cc8dc.grd&gt; created.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Checking GDAL data type and nodata value...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using GDAL data type &lt;Float32&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Exporting raster data to RRASTER format...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r.out.gdal complete. File &lt;/tmp/RtmppFoToJ/file552a9079673.grd&gt; created.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Checking GDAL data type and nodata value...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using GDAL data type &lt;Float32&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Exporting raster data to RRASTER format...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r.out.gdal complete. File &lt;/tmp/RtmppFoToJ/file552a6b9d3899.grd&gt; created.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Checking GDAL data type and nodata value...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using GDAL data type &lt;Float32&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Exporting raster data to RRASTER format...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r.out.gdal complete. File &lt;/tmp/RtmppFoToJ/file552a3f24a12b.grd&gt; created.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">title_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Exponential decay 1000m"</span>, <span class="st">"Bartlett decay 1000m"</span>,</span></span>
<span class="r-in"><span>                <span class="st">"Gaussian decay 1000m"</span>, <span class="st">"Threshold decay 1000m"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cabins_zoi_cumulative</span>, main <span class="op">=</span> <span class="va">title_plot</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="calc_zoi_cumulative-9.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#---</span></span></span>
<span class="r-in"><span><span class="co"># calculate density vs cumulative ZoI</span></span></span>
<span class="r-in"><span><span class="va">exp_name_d</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span>x <span class="op">=</span> <span class="va">cabins_bin_g</span>,</span></span>
<span class="r-in"><span>                                  radius <span class="op">=</span> <span class="fl">1000</span>, zoi_limit <span class="op">=</span> <span class="fl">0.01</span>,</span></span>
<span class="r-in"><span>                                  type <span class="op">=</span> <span class="st">"exp_decay"</span>, output_type <span class="op">=</span> <span class="st">"density"</span>,</span></span>
<span class="r-in"><span>                                  where <span class="op">=</span> <span class="st">"GRASS"</span>,</span></span>
<span class="r-in"><span>                                  g_overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                  verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating density for 1000, shape exp_decay..."</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0%   3%   6%   9%  12%  15%  18%  21%  24%  27%  30%  33%  36%  39%  42%  45%  48%  51%  54%  57%  60%  63%  66%  69%  72%  75%  78%  81%  84%  87%  90%  93%  96%  99% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Writing raster map &lt;cabins_example_bin_density_exp_decay1000&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cabins_density</span> <span class="op">&lt;-</span> <span class="fu">rgrass7</span><span class="fu">::</span><span class="fu"><a href="https://rsbivand.github.io/rgrass/reference/rgrass-deprecated.html" class="external-link">read_RAST</a></span><span class="op">(</span><span class="va">exp_name_d</span>, return_format <span class="op">=</span> <span class="st">"terra"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Checking GDAL data type and nodata value...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using GDAL data type &lt;Float32&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Exporting raster data to RRASTER format...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r.out.gdal complete. File &lt;/tmp/RtmppFoToJ/file552a63d3ef54.grd&gt; created.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">cabins_zoi_cumulative</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="va">cabins_density</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Cumulative ZoI"</span>, <span class="st">"Density"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="calc_zoi_cumulative-10.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#---</span></span></span>
<span class="r-in"><span><span class="co"># Using 'r.resamp.filter' algorithm</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># rectangle</span></span></span>
<span class="r-in"><span><span class="va">rectangle_resamp_filt</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span>x <span class="op">=</span> <span class="va">cabins_bin_g</span>,</span></span>
<span class="r-in"><span>                                             radius <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>                                             type <span class="op">=</span> <span class="st">"box"</span>,</span></span>
<span class="r-in"><span>                                             output_type <span class="op">=</span> <span class="st">"density"</span>,</span></span>
<span class="r-in"><span>                                             where <span class="op">=</span> <span class="st">"GRASS"</span>,</span></span>
<span class="r-in"><span>                                             g_module <span class="op">=</span> <span class="st">"r.resamp.filter"</span>,</span></span>
<span class="r-in"><span>                                             g_overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                             verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating density for 1000, shape box..."</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0%   3%   6%   9%  12%  15%  18%  21%  24%  27%  30%  33%  36%  39%  42%  45%  48%  51%  54%  57%  60%  63%  66%  69%  72%  75%  78%  81%  84%  87%  90%  93%  96%  99% 100%</span>
<span class="r-in"><span><span class="fu">rgrass7</span><span class="fu">::</span><span class="fu"><a href="https://rsbivand.github.io/rgrass/reference/rgrass-deprecated.html" class="external-link">read_RAST</a></span><span class="op">(</span><span class="va">rectangle_resamp_filt</span>, return_format <span class="op">=</span> <span class="st">"terra"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span>main <span class="op">=</span> <span class="st">"Rectangle ZoI 1000m"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Checking GDAL data type and nodata value...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using GDAL data type &lt;Float64&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Exporting raster data to RRASTER format...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r.out.gdal complete. File &lt;/tmp/RtmppFoToJ/file552a289314b3.grd&gt; created.</span>
<span class="r-plt img"><img src="calc_zoi_cumulative-11.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># bartlett</span></span></span>
<span class="r-in"><span><span class="va">bartlett_resamp_filt</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span>x <span class="op">=</span> <span class="va">cabins_bin_g</span>,</span></span>
<span class="r-in"><span>                                            radius <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>                                            type <span class="op">=</span> <span class="st">"bartlett"</span>,</span></span>
<span class="r-in"><span>                                            output_type <span class="op">=</span> <span class="st">"cumulative_zoi"</span>,</span></span>
<span class="r-in"><span>                                            where <span class="op">=</span> <span class="st">"GRASS"</span>,</span></span>
<span class="r-in"><span>                                            g_module <span class="op">=</span> <span class="st">"r.resamp.filter"</span>,</span></span>
<span class="r-in"><span>                                            g_overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                            verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating cumulative ZoI for 1000, shape bartlett..."</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0%   3%   6%   9%  12%  15%  18%  21%  24%  27%  30%  33%  36%  39%  42%  45%  48%  51%  54%  57%  60%  63%  66%  69%  72%  75%  78%  81%  84%  87%  90%  93%  96%  99% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Rescaling from density to cumulative ZoI..."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "cabins_example_bin_zoi_cumulative_bartlett1000 = cabins_example_bin_zoi_cumulative_bartlett1000_temp/0.0095562598354124"</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Removing raster &lt;cabins_example_bin_zoi_cumulative_bartlett1000_temp&gt;</span>
<span class="r-in"><span><span class="fu">rgrass7</span><span class="fu">::</span><span class="fu"><a href="https://rsbivand.github.io/rgrass/reference/rgrass-deprecated.html" class="external-link">read_RAST</a></span><span class="op">(</span><span class="va">bartlett_resamp_filt</span>, return_format <span class="op">=</span> <span class="st">"terra"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span>main <span class="op">=</span> <span class="st">"Bartlett ZoI 1000m"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Package rgrass7 transitioning to package rgrass for GRASS 7+.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Checking GDAL data type and nodata value...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using GDAL data type &lt;Float64&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Exporting raster data to RRASTER format...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2%   5%   8%  11%  14%  17%  20%  23%  26%  29%  32%  35%  38%  41%  44%  47%  50%  53%  56%  59%  62%  65%  68%  71%  74%  77%  80%  83%  86%  89%  92%  95%  98% 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r.out.gdal complete. File &lt;/tmp/RtmppFoToJ/file552a7a566913.grd&gt; created.</span>
<span class="r-plt img"><img src="calc_zoi_cumulative-12.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># not run</span></span></span>
<span class="r-in"><span><span class="co"># Gaussian - to be implemented!</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">gauss_resamp_filt</span> <span class="op">&lt;-</span> <span class="fu">calc_zoi_cumulative</span><span class="op">(</span>x <span class="op">=</span> <span class="va">cabins_bin_g</span>,</span></span>
<span class="r-in"><span>                                           radius <span class="op">=</span> <span class="st">"1000,3000"</span>,</span></span>
<span class="r-in"><span>                                           type <span class="op">=</span> <span class="st">"gauss,box"</span>,</span></span>
<span class="r-in"><span>                                           output_type <span class="op">=</span> <span class="st">"cumulative_zoi"</span>,</span></span>
<span class="r-in"><span>                                           where <span class="op">=</span> <span class="st">"GRASS"</span>,</span></span>
<span class="r-in"><span>                                           module <span class="op">=</span> <span class="st">"r.resamp.filter"</span>,</span></span>
<span class="r-in"><span>                                           overwrite <span class="op">=</span> <span class="cn">TRUE</span>, quiet <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">rgrass7</span><span class="fu">::</span><span class="fu"><a href="https://rsbivand.github.io/rgrass/reference/rgrass-deprecated.html" class="external-link">read_RAST</a></span><span class="op">(</span><span class="va">bartlett_resamp_filt</span>, return_format <span class="op">=</span> <span class="st">"terra"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># remove rasters created</span></span></span>
<span class="r-in"><span><span class="co"># to_remove_rast &lt;- unique(c(all_names, exp_name_d,</span></span></span>
<span class="r-in"><span><span class="co">#                            rectangle_resamp_filt, bartlett_resamp_filt))</span></span></span>
<span class="r-in"><span><span class="co"># rgrass7::execGRASS("g.remove", type = "vect", name = to_remove_vect, flags = "f")</span></span></span>
<span class="r-in"><span><span class="co"># rgrass7::execGRASS("g.remove", type = "rast", name = to_remove_rast, flags = "f")</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Bernardo Niebuhr, Manuela Panzacchi, Bram van Moorter.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

