<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Zone of Influence (ZOI) functions — zoi_functions • oneimpact</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Zone of Influence (ZOI) functions — zoi_functions"><meta name="description" content="Computes the decay functions that represent the Zone of
Influence (ZOI). The functions' radius (parameter radius)
controls how far the zone of influence of an infrastructure or disturbance reaches,
and the functions' shape (parameter type) represent represent how the ZOI
decays in space. Given a function shape (type) is chosen, the rate
of decay of the different ZOI functions is parameterized based on
the ZOI radius – e.g the slope of linear_decay() is defined
so that the function decreases to zero at the ZOI radius.
These functions can be used to transform arrays of (Euclidean)
distance values (in one dimension) or rasters of (Euclidean) distance
(in two dimensions) into ZOI values. The distances might represent
the distance to human infrastructure, sources of disturbance, or
more broadly any type of land use class or spatial variable."><meta property="og:description" content="Computes the decay functions that represent the Zone of
Influence (ZOI). The functions' radius (parameter radius)
controls how far the zone of influence of an infrastructure or disturbance reaches,
and the functions' shape (parameter type) represent represent how the ZOI
decays in space. Given a function shape (type) is chosen, the rate
of decay of the different ZOI functions is parameterized based on
the ZOI radius – e.g the slope of linear_decay() is defined
so that the function decreases to zero at the ZOI radius.
These functions can be used to transform arrays of (Euclidean)
distance values (in one dimension) or rasters of (Euclidean) distance
(in two dimensions) into ZOI values. The distances might represent
the distance to human infrastructure, sources of disturbance, or
more broadly any type of land use class or spatial variable."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">oneimpact</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/oneimpact.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/oneimpact.html">Getting started</a></li>
    <li><a class="dropdown-item" href="../articles/computing_zoi.html">Computing zones of influence</a></li>
    <li><a class="dropdown-item" href="../articles/zoi_on_grass.html">Zones of influence on GRASS GIS</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NINAnor/oneimpact/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Zone of Influence (ZOI) functions</h1>
      <small class="dont-index">Source: <a href="https://github.com/NINAnor/oneimpact/blob/main/R/zoi_functions.R" class="external-link"><code>R/zoi_functions.R</code></a></small>
      <div class="d-none name"><code>zoi_functions.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes the decay functions that represent the Zone of
Influence (ZOI). The functions' radius (parameter <code>radius</code>)
controls how far the zone of influence of an infrastructure or disturbance reaches,
and the functions' shape (parameter <code>type</code>) represent represent how the ZOI
decays in space. Given a function shape (<code>type</code>) is chosen, the rate
of decay of the different ZOI functions is parameterized based on
the ZOI radius – e.g the slope of <code>linear_decay()</code> is defined
so that the function decreases to zero at the ZOI radius.
These functions can be used to transform arrays of (Euclidean)
distance values (in one dimension) or rasters of (Euclidean) distance
(in two dimensions) into ZOI values. The distances might represent
the distance to human infrastructure, sources of disturbance, or
more broadly any type of land use class or spatial variable.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dist_decay</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  radius <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"exp_decay"</span>, <span class="st">"gaussian_decay"</span>, <span class="st">"linear_decay"</span>, <span class="st">"threshold_decay"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  zoi_limit <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  origin <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  oneside <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">threshold_decay</span><span class="op">(</span><span class="va">x</span>, <span class="va">radius</span>, intercept <span class="op">=</span> <span class="fl">1</span>, origin <span class="op">=</span> <span class="fl">0</span>, oneside <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'numeric'</span></span>
<span><span class="fu">threshold_decay</span><span class="op">(</span><span class="va">x</span>, <span class="va">radius</span>, intercept <span class="op">=</span> <span class="fl">1</span>, origin <span class="op">=</span> <span class="fl">0</span>, oneside <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'SpatRaster'</span></span>
<span><span class="fu">threshold_decay</span><span class="op">(</span><span class="va">x</span>, <span class="va">radius</span>, intercept <span class="op">=</span> <span class="fl">1</span>, origin <span class="op">=</span> <span class="fl">0</span>, oneside <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">step_decay</span><span class="op">(</span><span class="va">x</span>, <span class="va">radius</span>, intercept <span class="op">=</span> <span class="fl">1</span>, origin <span class="op">=</span> <span class="fl">0</span>, oneside <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">bartlett_decay</span><span class="op">(</span><span class="va">x</span>, <span class="va">radius</span>, intercept <span class="op">=</span> <span class="fl">1</span>, origin <span class="op">=</span> <span class="fl">0</span>, oneside <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'numeric'</span></span>
<span><span class="fu">bartlett_decay</span><span class="op">(</span><span class="va">x</span>, <span class="va">radius</span>, intercept <span class="op">=</span> <span class="fl">1</span>, origin <span class="op">=</span> <span class="fl">0</span>, oneside <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'SpatRaster'</span></span>
<span><span class="fu">bartlett_decay</span><span class="op">(</span><span class="va">x</span>, <span class="va">radius</span>, intercept <span class="op">=</span> <span class="fl">1</span>, origin <span class="op">=</span> <span class="fl">0</span>, oneside <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tent_decay</span><span class="op">(</span><span class="va">x</span>, <span class="va">radius</span>, intercept <span class="op">=</span> <span class="fl">1</span>, origin <span class="op">=</span> <span class="fl">0</span>, oneside <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">linear_decay</span><span class="op">(</span><span class="va">x</span>, <span class="va">radius</span>, intercept <span class="op">=</span> <span class="fl">1</span>, origin <span class="op">=</span> <span class="fl">0</span>, oneside <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gaussian_decay</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  radius <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zoi_limit <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  intercept <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lambda <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sigma <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  origin <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">half_norm_decay</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  radius <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zoi_limit <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  intercept <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lambda <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sigma <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  origin <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">exp_decay</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  radius <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zoi_limit <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  intercept <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lambda <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  origin <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  oneside <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  half_life <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zoi_hl_ratio <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code>[numeric,SpatRaster,RasterLayer]</code> <br> Euclidean distance from an infrastructure, source
of disturbance, or feature/class of interest. It can be a single value, an array
of values, or a raster object. It must not necessarily be an Euclidean distance,
but preferably it should be a distance measured in meters, to ease interpretation
(e.g. geodesic distance).</p></dd>


<dt id="arg-radius">radius<a class="anchor" aria-label="anchor" href="#arg-radius"></a></dt>
<dd><p><code>[numeric(1)]</code> <br> Radius of the zone of influence (ZOI),
the distance at which the ZOI vanishes or goes below a given minimum limit value
<code>zoi_limit</code>. See details.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p><code>[character(1)="Gauss"]{"Gauss", "exp_decay", "bartlett", "linear", "tent", "threshold", "step"}</code> <br> Type or shape of the decay distance.</p><ul><li><p>If <code>"Gauss"</code> or <code>"half_norm"</code>, the ZOI follows a half-normal shape: <br><code>intercept * exp(-lambda * (euclidean_distance^2))</code>. <code>intercept</code> and <code>lambda</code> are
parameters to be defined – see details.</p></li>
<li><p>If <code>"exp_decay"</code>, the ZOI follows an exponential decay shape: <br><code>intercept * exp(-lambda * euclidean_distance)</code>. <code>intercept</code> and <code>lambda</code> are
parameters to be defined – see details.</p></li>
<li><p>If <code>"bartlett"</code>, <code>"linear_decay"</code>, or <code>"tent_decay"</code>, the ZOI follows a
linear decay shape within the ZOI radius (parameter <code>radius</code>).</p></li>
<li><p>If <code>"threshold"</code> or <code>"step"</code>, a constant influence is consider within the
zone of influence radius (parameter <code>radius</code>). All pixels closer than
<code>radius</code> to infrastructure are considered as "under the influence" of
the nearest feature, with a constant influence value defined by the
<code>intercept</code> parameter, and all values/pixels beyond <code>radius</code> are
assumed to have zero influence.</p></li>
</ul></dd>


<dt id="arg-zoi-limit">zoi_limit<a class="anchor" aria-label="anchor" href="#arg-zoi-limit"></a></dt>
<dd><p><code>[numeric(1)=0.05]</code> <br> For non-vanishing functions
(e.g. <code>exp_decay</code>, <code>gaussian_decay</code>), this value is used to set the relationship
between the ZOI radius and the decay functions:
<code>radius</code> is defined as the minimum distance <code>x</code> at which the ZOI assumes values
below <code>zoi_limit</code>. The default is 0.05. This parameter is used only
if <code>radius</code> is not <code>NULL</code>.</p></dd>


<dt id="arg-origin">origin<a class="anchor" aria-label="anchor" href="#arg-origin"></a></dt>
<dd><p><code>[numeric(1)=0]</code> <br> In which position (in 1 dimension) is located
the infrastructure or source of disturbance? Default is zero. For raster objects,
this parameter should be ignored.</p></dd>


<dt id="arg-oneside">oneside<a class="anchor" aria-label="anchor" href="#arg-oneside"></a></dt>
<dd><p><code>[logical(1)=TRUE]</code> <br> If <code>FALSE</code>, negative distance values
are considered symmetrically and their transformation is always positive.
This parameter is only meaningful if <code>x</code> is a vector of values, not a
raster object.</p></dd>


<dt id="arg-intercept">intercept<a class="anchor" aria-label="anchor" href="#arg-intercept"></a></dt>
<dd><p><code>[numeric(1)=1]</code> <br> Maximum value of the ZOI function at
when the distance from disturbance sources is zero (<code>x = 0</code>).
For the <code>threshold_decay</code> and <code>step_decay</code> functions, <code>intercept</code> is
the constant value of the Zone of Influence within the ZOI <code>radius</code>.
For the other ZOI functions, <code>intercept</code>
is the value of the functions at the origin (where the sources of disturbance
are located, i.e. <code>x = 0</code>).
Default is <code>intercept = 1</code>.</p></dd>


<dt id="arg-lambda">lambda<a class="anchor" aria-label="anchor" href="#arg-lambda"></a></dt>
<dd><p><code>[numeric(2)=NULL]</code> <br> For the <code>gaussian_decay</code> and <code>exp_decay</code>
functions, <code>lambda</code> is the decay parameter of the Gaussian or exponential decay
function. Notice that the interpretation of <code>lambda</code> is different depending on the
the function – see details for definitions.
For the Gaussian decay function, the value for <code>lambda</code> is only considered if both
<code>radius = NULL</code> and <code>sigma = NULL</code>. For the exponential decay function,
the value for <code>lambda</code> is only considered if both <code>radius = NULL</code> and <code>half_life = NULL</code>.</p></dd>


<dt id="arg-sigma">sigma<a class="anchor" aria-label="anchor" href="#arg-sigma"></a></dt>
<dd><p><code>[numeric(1)=NULL]</code> <br> Standard deviation of the Gaussian decay
function. It is related to the Gaussian decay rate \(\lambda\) as
<code>lambda = 1/(2*sigma^2)</code>. Only considered to compute the ZOI
for the <code>gaussian_decay</code> function when the ZOI radius parameter is null
(<code>radius = NULL</code>).</p></dd>


<dt id="arg-half-life">half_life<a class="anchor" aria-label="anchor" href="#arg-half-life"></a></dt>
<dd><p><code>[numeric(1)=NULL]</code> <br> Half life of the exponential decay
function, in meters (or map units, for rasters). By definition, the half life is
the distance where the exponential decay function reaches 0.5 of its
maximum value. For the <code>exp_decay</code> function,
if the ZOI radius parameter is null (<code>radius = NULL</code>), the value of the
exponential half life (<code>half_life = log(2)/lambda</code>) can be used to parameterize the
exponential decay function.</p></dd>


<dt id="arg-zoi-hl-ratio">zoi_hl_ratio<a class="anchor" aria-label="anchor" href="#arg-zoi-hl-ratio"></a></dt>
<dd><p><code>[numeric(1)=NULL]</code> <br> For the <code>exp_decay</code> function,
if both the ZOI radius <code>radius</code> and <code>zoi_hl_ratio</code> are given and
<code>half_life</code> is <code>NULL</code>, this value is used
to set the ZOI radius (and <code>zoi_limit</code> is ignored).
<code>zoi_hl_ratio</code> is the ratio between the
ZOI radius value and the half life of the exponential function.
For instance, if <code>radius = 1200</code> and <code>zoi_hl_ratio = 6</code>, this means
<code>half_life</code> is 200. As a consequence, the exponential decay ZOI function
decreases to 0.5 at distance 200, and the ZOI radius = 1200
is defined as the distance
at which the ZOI decreases to 0.5**6 = 0.015625.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The ZOI values for a given array of distance values if <code>x</code> is numeric,
or a raster object delimiting the ZOI if <code>x</code> corresponds to the distance from
infrastructure or disturbance sources in 2 dimensions space.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A generic function <code>dist_decay()</code> can be used to compute
ZOI values according to functions with different shapes (parameter <code>type</code>)
and radii (parameter <code>radius</code>). Alternatively, there are specific functions
implemented for each ZOI shape.</p>
<p>For the threshold function (<code>threshold_decay()</code>) and the linear decay
function (<code>linear_decay()</code>), the ZOI radius (parameter <code>radius</code>) is the
distance <code>x</code> where the ZOI function value decreases to zero.
For the linear decay, this is done by setting
the slope of the linear function as <code>-intercept/radius</code>, where <code>intercept</code>
is the intercept of the linear function (here, the maximum value at <code>x = 0</code>).</p>
<p>For non-vanishing functions that approach zero asymptotically
(<code>exp_decay()</code>, <code>gaussian_decay()</code>), a certain limit value must be given to define
the ZOI radius – so that the ZOI radius is defined as the distance <code>x</code> where the
ZOI function goes below this limit value. For these functions,
different parameters are available
for setting the relationship between the ZOI function value and the ZOI radius.</p>
<p>Some functions have multiple possible names, for the sake of flexibility:</p><ul><li><p><code>linear_decay()</code>, <code>bartlett_decay()</code>, and
<code>tent_decay()</code> are the same function;</p></li>
<li><p><code>threshold_decay()</code> and <code>step_decay()</code> are the same function;</p></li>
<li><p><code>gaussian_decay()</code> and <code>half_norm_decay()</code> are the same function.</p></li>
</ul><p>Alternatively, <code>dist_decay()</code> can call all of them, given a
ZOI shape is specified through the parameter <code>type</code>.</p>
<p>Other functions might be implemented in the future.</p>
    </div>
    <div class="section level2">
    <h2 id="definitions">Definitions<a class="anchor" aria-label="anchor" href="#definitions"></a></h2>
    <p>Here are some formal definitions for the ZOI functions \(\phi(d_i, r)\),
where \(d_i\) is the distance to the feature \(i\) of an infrastructure or
source of disturbance and \(r\) is the radius of the zone of influence:</p><ul><li><p><code>threshold_decay()</code>: the threshold or step decay function \(\phi_{threshold}\) is
positive and constant within the ZOI radius \(r\), and null for \(x \ge r\):
$$
\phi_{threshold}(d_i, r_k) = c \text{ if } d_i &lt; r, 0 \text{ otherwise}
$$
where \(c\) is a constant value (by default <code>c = 1</code>).</p></li>
<li><p><code>linear_decay()</code>: the linear (or tent/Bartlett) decay function \(\phi_{linear}\)
decreases
linearly from a maximum value \(c\) (the intercept, by default <code>c = 1</code>) to
zero when \(x \ge r\):
$$\phi_{linear}(d_i, r) = c - c/r \text{ if } x &lt; r, \text{ 0 otherwise}$$</p></li>
<li><p><code>exp_decay()</code>: the exponential decay function \(\phi_{exp}\) decreases
exponentially from a maximum value \(c\) (by default <code>c = 1</code>) with a rate
\(\lambda\), which is defined by \(r\) and a ZOI limit value
\(\phi_{lim}\), a small ZOI value below which the influence is considered negligible:
$$\phi_{exp}(d_i, r, \phi_{lim}) = c exp(-\lambda d_i)$$
with
$$\lambda = ln(1/\phi_{lim}) / r$$
In this context, the ZOI radius \(r\) is the distance beyond which
\(\phi_{exp} &lt; \phi_{lim}\).</p></li>
<li><p><code>gaussian_decay()</code>: the Gaussian decay function \(\phi_{Gauss}\)
follows a Gaussian (half-normal) decay with maximum \(c\) (by default <code>c = 1</code>)
and a decay rate \(\lambda\)
defined by \(r\) and a ZOI limit value
\(\phi_{lim}\), a small ZOI value below which the influence is considered negligible:
$$\phi_{Gauss}(d_i, r, \phi_{lim}) = c exp(-\lambda d_i^2)$$
with
$$\lambda = ln(1/\phi_{lim}) / (r^2)$$
In this context, the ZOI radius \(r\) is the distance beyond which
\(\phi_{exp} &lt; \phi_{lim}\). Note that \(\lambda\) is defined differently
for the <code>gaussian_decay</code> and the <code>exp_decay</code> functions.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="parameterization">Parameterization<a class="anchor" aria-label="anchor" href="#parameterization"></a></h2>
    <p>Some of the shapes of the ZOI (parameter <code>type</code> in <code>dist_decay()</code>) might be
parameterized in multiple ways. Here is a brief description of each possibility:</p>
<ul><li><p>For the <code>"Gauss"</code> or <code>"half_norm"</code> shapes, the ZOI follows a half-normal shape: <br><code>intercept * exp(-lambda * (euclidean_distance^2))</code>. <code>intercept</code> and <code>lambda</code> are
parameters to be defined. There are three ways of specifying <code>lambda</code>:</p><ul><li><p>If the <code>radius = NULL</code> (default), <code>lambda</code> is a parameter by itself to
be specified by the user. In all other cases (below)
the value of this parameter is ignored, even if provided.</p></li>
<li><p>If the parameter <code>radius</code> is provided, the rate of decay is given by
<code>lambda = log(1/zoi_limit) / (radius**2)</code>. In other words, <code>lambda</code> is defined
so that the function decreases to <code>zoi_limit</code> when <code>x = radius</code>.</p></li>
<li><p>If the <code>radius = NULL</code> and <code>sigma</code> is provided, <code>lambda</code> is defined as
<code>lambda = 1/(2*sigma**2)</code>.</p></li>
</ul></li>
<li><p>For the <code>"exp_decay"</code> shape, the ZOI follows an exponential decay shape: <br><code>intercept * exp(-lambda * euclidean_distance)</code>. <code>intercept</code> and <code>lambda</code> are
parameters to be defined. There are four ways of specifying <code>lambda</code>:</p><ul><li><p>If the <code>radius = NULL</code> (default), <code>lambda</code> is a parameter by itself to
be specified by the user. In all other cases (below)
the value of this parameter is ignored, even if provided.</p></li>
<li><p>If the parameter <code>radius</code> is provided, the rate of decay is given by
<code>lambda = log(1/zoi_limit) / radius</code>. In other words, <code>lambda</code> is defined
so that the function decreases to <code>zoi_limit</code> when <code>x = radius</code>.</p></li>
<li><p>If the <code>radius = NULL</code> and <code>half_life</code> is given, <code>lambda</code> is defined
based on the half life of the exponential function – the distance at which
the function decreases to 1/2. If <code>zoi_hl_ratio = NULL</code>, <code>lambda</code> is defined
as <code>lambda = log(2)/half_life</code>.</p></li>
<li><p>The last possibility is to specify <code>zoi_hl_ratio</code>, the ratio between
the ZOI radius and the half life of the exponential function. For instance,
if <code>zoi_hl_ratio = 4</code>, this means the ZOI radius is defined as <code>4*half_life</code>.
If <code>zoi_hl_ratio</code> is provided, the exponential <code>half_life</code> is defined based on
this parameter and <code>lambda</code> is defined accordingly, based on the relationship
above. In this case, <code>radius</code> is ignored, even if specified.</p></li>
</ul></li>
<li><p>For the <code>"bartlett"</code>, <code>"linear_decay"</code>, or <code>"tent_decay"</code> shapes, the ZOI follows a
linear decay shape (<code>y = a*x + b</code>) within the ZOI radius (parameter <code>radius</code>).
The intercept of the linear function (<code>b</code>) is given by the parameter <code>intercept</code>
and the slope (<code>a</code>) is given by <code>-intercept/radius</code>.</p></li>
<li><p>For the <code>"threshold"</code> or <code>"step"</code> shapes, a constant influence is consider
within the
zone of influence radius (parameter <code>radius</code>). All pixels closer than
<code>radius</code> to infrastructure are considered as "under the influence" of
the nearest feature, with a constant influence value defined by the
<code>intercept</code> parameter, and all values/pixels beyond <code>radius</code> are assumed to have
zero influence.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># generic dist_decay function</span></span></span>
<span class="r-in"><span><span class="fu">oneimpact</span><span class="fu">::</span><span class="fu">dist_decay</span><span class="op">(</span><span class="fl">500</span>, radius <span class="op">=</span> <span class="fl">1000</span>, type <span class="op">=</span> <span class="st">"exp_decay"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2236068</span>
<span class="r-in"><span><span class="fu">oneimpact</span><span class="fu">::</span><span class="fu">dist_decay</span><span class="op">(</span><span class="fl">500</span>, radius <span class="op">=</span> <span class="fl">1000</span>, type <span class="op">=</span> <span class="st">"gaussian_decay"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4728708</span>
<span class="r-in"><span><span class="fu">oneimpact</span><span class="fu">::</span><span class="fu">dist_decay</span><span class="op">(</span><span class="fl">500</span>, radius <span class="op">=</span> <span class="fl">1000</span>, type <span class="op">=</span> <span class="st">"linear_decay"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5</span>
<span class="r-in"><span><span class="fu">oneimpact</span><span class="fu">::</span><span class="fu">dist_decay</span><span class="op">(</span><span class="fl">500</span>, radius <span class="op">=</span> <span class="fl">1000</span>, type <span class="op">=</span> <span class="st">"step_decay"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># test the zone of influence functions</span></span></span>
<span class="r-in"><span><span class="co"># here we use ggplot() to illustrate the functions, to make the figures more</span></span></span>
<span class="r-in"><span><span class="co"># widely reproducible</span></span></span>
<span class="r-in"><span><span class="co"># to ease the plots, use the function plot_zoi1d()</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># exponential decay</span></span></span>
<span class="r-in"><span><span class="fu">exp_decay</span><span class="op">(</span><span class="fl">10</span>, radius <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3684031</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">exp_decay</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Distance"</span>, y <span class="op">=</span> <span class="st">"Zone of Influence"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f1</span></span></span>
<span class="r-plt img"><img src="zoi_functions-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># exponential decay - two sides</span></span></span>
<span class="r-in"><span><span class="va">f1_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">30</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">exp_decay</span>,</span></span>
<span class="r-in"><span>                args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">20</span>, oneside <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Distance"</span>, y <span class="op">=</span> <span class="st">"Zone of Influence"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f1_2</span></span></span>
<span class="r-plt img"><img src="zoi_functions-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># threshold</span></span></span>
<span class="r-in"><span><span class="fu">threshold_decay</span><span class="op">(</span><span class="fl">5</span>, radius <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-in"><span><span class="fu">threshold_decay</span><span class="op">(</span><span class="fl">10</span>, radius <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">threshold_decay</span>,</span></span>
<span class="r-in"><span>                args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Distance"</span>, y <span class="op">=</span> <span class="st">"Zone of Influence"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f2</span></span></span>
<span class="r-plt img"><img src="zoi_functions-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># threshold - two sides</span></span></span>
<span class="r-in"><span><span class="va">f2_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">30</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">threshold_decay</span>,</span></span>
<span class="r-in"><span>                args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">20</span>, oneside <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Distance"</span>, y <span class="op">=</span> <span class="st">"Zone of Influence"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f2_2</span></span></span>
<span class="r-plt img"><img src="zoi_functions-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># linear, tent, or bartlett decay</span></span></span>
<span class="r-in"><span><span class="fu">bartlett_decay</span><span class="op">(</span><span class="fl">5</span>, radius <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5</span>
<span class="r-in"><span><span class="fu">bartlett_decay</span><span class="op">(</span><span class="fl">8</span>, radius <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">bartlett_decay</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Distance"</span>, y <span class="op">=</span> <span class="st">"Zone of Influence"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f3</span></span></span>
<span class="r-plt img"><img src="zoi_functions-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># linear, two sides</span></span></span>
<span class="r-in"><span><span class="va">f3_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">30</span>, <span class="fl">40</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">bartlett_decay</span>,</span></span>
<span class="r-in"><span>                args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">20</span>, origin <span class="op">=</span> <span class="fl">10</span>, oneside <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Distance"</span>, y <span class="op">=</span> <span class="st">"Zone of Influence"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f3_3</span></span></span>
<span class="r-plt img"><img src="zoi_functions-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># guassian or half normal</span></span></span>
<span class="r-in"><span><span class="fu">gaussian_decay</span><span class="op">(</span><span class="fl">5</span>, sigma <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.7066483</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">gaussian_decay</span>,</span></span>
<span class="r-in"><span>                args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">20</span>, zoi_limit <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Distance"</span>, y <span class="op">=</span> <span class="st">"Zone of Influence"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">20</span>, linetype <span class="op">=</span> <span class="fl">2</span>, color <span class="op">=</span> <span class="st">"darkgrey"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0.05</span>, linetype <span class="op">=</span> <span class="fl">2</span>, color <span class="op">=</span> <span class="st">"darkgrey"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f4</span></span></span>
<span class="r-plt img"><img src="zoi_functions-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># half normal - two sides</span></span></span>
<span class="r-in"><span><span class="fu">gaussian_decay</span><span class="op">(</span><span class="fl">5</span>, sigma <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.7066483</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f4_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">30</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">gaussian_decay</span>,</span></span>
<span class="r-in"><span>                args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">20</span>, zoi_limit <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Distance"</span>, y <span class="op">=</span> <span class="st">"Zone of Influence"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">20</span>, <span class="fl">20</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">2</span>, color <span class="op">=</span> <span class="st">"darkgrey"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0.05</span>, linetype <span class="op">=</span> <span class="fl">2</span>, color <span class="op">=</span> <span class="st">"darkgrey"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f4_2</span></span></span>
<span class="r-plt img"><img src="zoi_functions-8.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot several ZoI with the same radius</span></span></span>
<span class="r-in"><span><span class="va">f1</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">threshold_decay</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">bartlett_decay</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html" class="external-link">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">gaussian_decay</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">20</span>, zoi_limit <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Distance"</span>, y <span class="op">=</span> <span class="st">"Zone of Influence"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="zoi_functions-9.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#---</span></span></span>
<span class="r-in"><span><span class="co"># applying dist_decay functions for rasters</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate Euclidean distance</span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"raster/sample_area_cabins.tif"</span>, package <span class="op">=</span> <span class="st">"oneimpact"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cabins</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cabins_dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="calc_zoi_nearest.html">calc_zoi_nearest</a></span><span class="op">(</span><span class="va">cabins</span>, type <span class="op">=</span> <span class="st">"euclidean"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># transform Euclidean in distance decay</span></span></span>
<span class="r-in"><span><span class="co"># exponential decay</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">oneimpact</span><span class="fu">::</span><span class="fu">dist_decay</span><span class="op">(</span><span class="va">cabins_dist</span>, radius <span class="op">=</span> <span class="fl">1000</span>, type <span class="op">=</span> <span class="st">"exp_decay"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="zoi_functions-10.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># linear decay</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">oneimpact</span><span class="fu">::</span><span class="fu">dist_decay</span><span class="op">(</span><span class="va">cabins_dist</span>, radius <span class="op">=</span> <span class="fl">1000</span>, type <span class="op">=</span> <span class="st">"tent_decay"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="zoi_functions-11.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bernardo Brandão Niebuhr, Manuela Panzacchi, Bram van Moorter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

